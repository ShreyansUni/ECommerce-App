<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ECommerce_App.MainPage">
    <!-- Home Tab -->
    <!--<ContentPage Title="Home">
        <StackLayout Padding="10">
            <Label Text="Welcome to Printer Shop" FontSize="24" HorizontalOptions="Center"/>
            <Image Source="banner_image.png" Aspect="AspectFill" HeightRequest="200"/>
            <Button Text="Browse Products" HorizontalOptions="Center" Clicked="OnBrowseProductsClicked"/>
        </StackLayout>
    </ContentPage>

    --><!-- Product List Tab --><!--
    <ContentPage Title="Product List">
        <CollectionView x:Name="PrintersList" ItemsSource="{Binding Printers}" SelectionMode="None">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame BorderColor="Gray" CornerRadius="10" Padding="10" Margin="5">
                        <StackLayout>
                            <Label Text="{Binding name}" FontSize="20" TextColor="Black"/>
                            <Label Text="{Binding Description}" FontSize="14" TextColor="Gray" LineBreakMode="TailTruncation"/>
                            <Label Text="Type: {Binding PrinterType}" FontSize="16" TextColor="DarkGray"/>
                            <Label Text="Rate: {Binding Rate}" FontSize="16" TextColor="Green"/>
                            <Button Text="View Details" Clicked="OnProductClicked"/>
                        </StackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </ContentPage>

    --><!-- Cart Tab --><!--
    <ContentPage Title="Cart">
        <StackLayout>
            <Label Text="Your Cart is Empty" FontSize="18" HorizontalOptions="Center" VerticalOptions="CenterAndExpand"/>
        </StackLayout>
    </ContentPage>

    --><!-- Profile Tab --><!--
    <ContentPage Title="Profile">
        <StackLayout Padding="10">
            <Label Text="User Profile" FontSize="24" HorizontalOptions="Center"/>
            <Image Source="profile_placeholder.png" HeightRequest="100" WidthRequest="100" HorizontalOptions="Center"/>
            <Label Text="Name: Mark Adam" FontSize="18"/>
            <Label Text="Email: markadam@example.com" FontSize="18"/>
            <Button Text="Edit Profile"/>
            <Button Text="Logout" TextColor="Red"/>
        </StackLayout>
    </ContentPage>

    --><!-- Settings Tab --><!--
    <ContentPage Title="Settings">
        <StackLayout Padding="10">
            <Label Text="Settings" FontSize="24" HorizontalOptions="Center"/>
            <Button Text="Change Password"/>
            <Button Text="Notifications"/>
            <Button Text="About Us"/>
        </StackLayout>
    </ContentPage>-->
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <Grid>
                <!-- User Image and Name -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- User Image -->
                <Frame Grid.Column="0" CornerRadius="50" HasShadow="True" WidthRequest="50" HeightRequest="50" Padding="0">
                    <Image Source="user_image.jpg" Aspect="AspectFill"/>
                </Frame>

                <!-- User Name -->
                <Label Grid.Column="1" Text="Hello!" FontSize="15" VerticalOptions="Center" Margin="10,0,0,10"/>
                <Label Grid.Column="1" Grid.Row="1" Text="Mark Zukarburg" FontSize="17" FontAttributes="Bold" VerticalOptions="Center" Margin="10,-25,0,0"/>

                <!-- Bell Icon -->
                <Frame Grid.Column="2" CornerRadius="25" HasShadow="True" WidthRequest="40" HeightRequest="40" Padding="0">
                    <Image Source="notification.png" Aspect="AspectFill" HorizontalOptions="Center" VerticalOptions="Center"/>
                </Frame>

                <!-- SearchBar Section -->
                <Frame Grid.Row="2" Grid.ColumnSpan="3" CornerRadius="250" HasShadow="True" Padding="0" Margin="0,25,0,10">
                    <SearchBar Placeholder="Search here.." HorizontalOptions="FillAndExpand" VerticalOptions="Center" />
                </Frame>

                <!-- CarouselView for Discount Slider -->
                <!--<CarouselView Grid.Row="3" Grid.ColumnSpan="3" ItemsSource="{Binding Discounts}" Loop="True" HeightRequest="250">
                    <CarouselView.ItemTemplate>
                        <DataTemplate>
                            <Frame CornerRadius="10" HasShadow="True" BackgroundColor="#4F46E5" Padding="10" Margin="0,10">
                                <VerticalStackLayout Spacing="10">
                                    --><!-- Discount Image --><!--
                                    <Image Source="{Binding Image}" Aspect="AspectFill" HeightRequest="150" />

                                    --><!-- Discount Content --><!--
                                    <Label Text="{Binding Title}" FontSize="16" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center"/>
                                    <Label Text="{Binding Description}" FontSize="14" TextColor="White" HorizontalOptions="Center"/>
                                </VerticalStackLayout>
                            </Frame>
                        </DataTemplate>
                    </CarouselView.ItemTemplate>
                </CarouselView>-->
            </Grid>

            <!-- Shop Now Section -->
            <Frame CornerRadius="10" HasShadow="True" BackgroundColor="#4F46E5">
                <VerticalStackLayout Padding="20" Spacing="5">
                    <Label Text="Enjoy Exclusive Discounts!" FontSize="20" TextColor="White" FontAttributes="Bold"/>
                    <Label Text="Browse through our top-rated printers." TextColor="White" FontSize="14" />
                    <Button Text="Shop Now" BackgroundColor="White" TextColor="#4F46E5" />
                </VerticalStackLayout>
            </Frame>

            <!-- Featured Products Section -->
            <Label Text="Featured Products" FontSize="18" FontAttributes="Bold"/>
            <!--<Label Text="See All" FontSize="15" TextColor="Blue" FontAttributes="Bold" Margin="320,-37,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnSeeAllTapped"/>
                </Label.GestureRecognizers>
            </Label>-->
            <StackLayout Orientation="Horizontal" HorizontalOptions="End" VerticalOptions="Center" Margin="0,-40,0,0">
                <Label Text="See All" 
                       FontSize="15" 
                       TextColor="Blue" 
                       FontAttributes="Bold">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnSeeAllTapped" />
                    </Label.GestureRecognizers>
                </Label>
            </StackLayout>
            <!--<CollectionView ItemsSource="{Binding FeaturedProducts}" HorizontalScrollBarVisibility="Never" ItemsLayout="HorizontalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <VerticalStackLayout WidthRequest="120" Spacing="5">
                            <Frame CornerRadius="10" HasShadow="True">
                                <Image Source="{Binding Image}" Aspect="AspectFill" HeightRequest="100"/>
                            </Frame>
                            <Label Text="{Binding Name}" FontSize="14" FontAttributes="Bold" LineBreakMode="TailTruncation"/>
                            <Label Text="{Binding Rate}" FontSize="12" TextColor="Green"/>
                        </VerticalStackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>-->
            <!--<CollectionView ItemsSource="{Binding Products}" HorizontalScrollBarVisibility="Always" ItemsLayout="HorizontalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Padding="0" Margin="5" CornerRadius="15" HasShadow="True" WidthRequest="120" BackgroundColor="White">
                            <VerticalStackLayout Spacing="0">
                                --><!-- Product Image with Like Icon --><!--
                                <Grid>
                                    --><!-- Product Image --><!--
                                    <Image Source="{Binding Image}" Aspect="AspectFill" HeightRequest="100" WidthRequest="120" HorizontalOptions="Center" VerticalOptions="Center" />

                                    --><!-- Like Icon (Heart) --><!--
                                    <Image Source="group.png" WidthRequest="20" HeightRequest="20" 
                               HorizontalOptions="End" VerticalOptions="Start" Margin="5" />
                                </Grid>

                                --><!-- Separator Line --><!--
                                <BoxView HeightRequest="1" BackgroundColor="#E0E0E0" />

                                --><!-- Text Area --><!--
                                <StackLayout BackgroundColor="#F5F5F5" Padding="5">
                                    --><!-- Product Name --><!--
                                    <Label Text="{Binding Name}" FontSize="14" FontAttributes="Bold" 
                               LineBreakMode="TailTruncation" HorizontalOptions="Center" VerticalOptions="Center" />

                                    --><!-- Product Price --><!--
                                    <Label Text="{Binding Price}" FontSize="14" TextColor="Purple" FontAttributes="Bold" 
                               HorizontalOptions="Center" VerticalOptions="Center" />
                                </StackLayout>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>-->
            <CollectionView ItemsSource="{Binding Printers}" HorizontalScrollBarVisibility="Always" ItemsLayout="HorizontalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Padding="0" Margin="5" CornerRadius="15" HasShadow="True" WidthRequest="120" BackgroundColor="White">
                            <VerticalStackLayout Spacing="0">
                                <!-- Product Image with Like Icon -->
                                <Grid>
                                    <!-- Product Image -->
                                    <Image Source="{Binding Img}" Aspect="AspectFill" HeightRequest="100" WidthRequest="120" HorizontalOptions="Center" VerticalOptions="Center" />

                                    <!-- Like Icon (Heart) -->
                                    <Image Source="group.png" WidthRequest="20" HeightRequest="20" 
                           HorizontalOptions="End" VerticalOptions="Start" Margin="5" />
                                </Grid>

                                <!-- Separator Line -->
                                <BoxView HeightRequest="1" BackgroundColor="#E0E0E0" />

                                <!-- Text Area -->
                                <StackLayout BackgroundColor="#F5F5F5" Padding="5">
                                    <!-- Product Name -->
                                    <Label Text="{Binding Name}" FontSize="14" FontAttributes="Bold" 
                           LineBreakMode="TailTruncation" HorizontalOptions="Center" VerticalOptions="Center" />

                                    <!-- Product Rate -->
                                    <Label Text="{Binding Rate, StringFormat='Price: {0:C}'}" FontSize="14" TextColor="Purple" FontAttributes="Bold" 
                           HorizontalOptions="Center" VerticalOptions="Center" />
                                </StackLayout>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="Most Popular" FontSize="18" FontAttributes="Bold"/>
            <!--<Label Text="See All" FontSize="15" TextColor="Blue" FontAttributes="Bold" Margin="320,-37,0,0">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnSeeAllTapped"/>
                </Label.GestureRecognizers>
            </Label>-->
            <StackLayout Orientation="Horizontal" HorizontalOptions="End" VerticalOptions="Center" Margin="0,-40,0,0">
                <Label Text="See All" 
                       FontSize="15" 
                       TextColor="Blue" 
                       FontAttributes="Bold">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnSeeAllTapped" />
                    </Label.GestureRecognizers>
                </Label>
            </StackLayout>

            <CollectionView ItemsSource="{Binding Printers}" HorizontalScrollBarVisibility="Always" ItemsLayout="HorizontalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Padding="0" Margin="5" CornerRadius="15" HasShadow="True" WidthRequest="120" BackgroundColor="White">
                            <VerticalStackLayout Spacing="0">
                                <!-- Product Image with Like Icon -->
                                <Grid>
                                    <!-- Product Image -->
                                    <Image Source="{Binding Img}" Aspect="AspectFill" HeightRequest="100" WidthRequest="120" HorizontalOptions="Center" VerticalOptions="Center" />

                                    <!-- Like Icon (Heart) -->
                                    <Image Source="group.png" WidthRequest="20" HeightRequest="20" 
               HorizontalOptions="End" VerticalOptions="Start" Margin="5" />
                                </Grid>

                                <!-- Separator Line -->
                                <BoxView HeightRequest="1" BackgroundColor="#E0E0E0" />

                                <!-- Text Area -->
                                <StackLayout BackgroundColor="#F5F5F5" Padding="5">
                                    <!-- Product Name -->
                                    <Label Text="{Binding Name}" FontSize="14" FontAttributes="Bold" 
               LineBreakMode="TailTruncation" HorizontalOptions="Center" VerticalOptions="Center" />

                                    <!-- Product Rate -->
                                    <Label Text="{Binding Rate, StringFormat='Price: {0:C}'}" FontSize="14" TextColor="Purple" FontAttributes="Bold" 
               HorizontalOptions="Center" VerticalOptions="Center" />
                                </StackLayout>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
